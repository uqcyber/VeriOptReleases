<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory SemanticsSnippets</title>
</head>


<body>
<div class="head">
<h1>Theory SemanticsSnippets</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="SemanticsSnippets.html"><span>SemanticsSnippets</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span>
    </span><a href="../Semantics/IRStepObj.html"><span>Semantics.IRStepObj</span></a><span> </span><a href="../Semantics/Form.html"><span>Semantics.Form</span></a><span> </span><a href="Proofs.Stuttering.html"><span>Proofs.Stuttering</span></a><span> </span><a href="../Semantics/Snippets.Snipping.html"><span>Snippets.Snipping</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="operator"><span>show_types</span></span><span class="main"><span class="main"><span>=</span></span></span><span class="quasi_keyword"><span>false</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>

</span><span class="comment1"><span>(*notation (latex)
  NoNode ("ε")
*)</span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span>latex</span><span class="main"><span>)</span></span><span>
  </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>⟪</span></span><span>_</span><span class="keyword1"><span>⟫</span></span><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span>latex</span><span class="main"><span>)</span></span><span>
  </span><a class="entity_ref" href="../Semantics/IRTreeEval.html#IRTreeEval.stamp_expr|const"><span>stamp_expr</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span><span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹\\pitchfork›</span></span><span> _"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span>latex</span><span class="main"><span>)</span></span><span>
  </span><a class="entity_ref" href="../Graph/Values.html#Values.val_to_bool|const"><span>val_to_bool</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span><span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹\\ensuremath{_{\\mathit{›bool<span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹}}}›</span></span><span>"</span></span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span> </span><span class="main"><span>(</span></span><span>spaced_type_def </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="quoted"><span>"_constrain"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>logic</span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>type</span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>logic</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_ </span><span class="keyword1"><span>::</span></span><span> _"</span></span><span> </span><span class="main"><span>[</span></span><span>4</span><span class="main"><span>,</span></span><span> 0</span><span class="main"><span>]</span></span><span> 3</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹isbinary›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹\begin{center}
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term_type</span></span><span>[</span><span>mode</span><span>=spaced_type_def] </span><span class="quoted"><a class="entity_ref" href="../Graph/IRNodeHierarchy.html#IRNodeHierarchy.is_BinaryArithmeticNode|const"><span>is_BinaryArithmeticNode</span></a></span><span class="antiquote"><span>}</span></span></span><span>
\end{center}›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>

</span><span class="comment1"><span>(* figure out how to export a subset of IRNode!!! *)</span></span><span>

</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹inputsof›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text_raw</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term_type</span></span><span>[</span><span>mode</span><span>=spaced_type_def] </span><span class="quoted"><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.inputs_of|const"><span>inputs_of</span></a></span><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.inputs_of_ConstantNode|fact"><span>inputs_of_ConstantNode</span></a><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.inputs_of_ParameterNode|fact"><span>inputs_of_ParameterNode</span></a><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.inputs_of_ValuePhiNode|fact"><span>inputs_of_ValuePhiNode</span></a><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.inputs_of_AddNode|fact"><span>inputs_of_AddNode</span></a><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.inputs_of_IfNode|fact"><span>inputs_of_IfNode</span></a><span class="antiquote"><span>}</span></span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>

</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹graphdefnostamp›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text_raw</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>bold</span></span><span> </span><span class="plain_text"><span>‹typedef›</span></span><span class="antiquote"><span>}</span></span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span>[</span><span>source</span><span>] </span><span class="quoted"><span>‹</span><span class="free"><span>IRGraph</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>g</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.ID|type"><span>ID</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode|type"><span>IRNode</span></a><span> </span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>›</span></span><span class="antiquote"><span>}</span></span></span><span>
›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SemanticsSnippets.ids_fake.elims|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake.induct|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake.simps|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake.pelims|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake.cases|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake.termination|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake.pinduct|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake.psimps|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake_rel.inducts|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake_rel.simps|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake_rel.induct|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake_rel.cases|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake_rel.intros|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake_graph.inducts|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake_graph.simps|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake_graph.induct|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake_graph.cases|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake_graph.intros|fact"><span class="entity_def" id="SemanticsSnippets.ids_fake.elims|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake.induct|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake.simps|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake.pelims|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake.cases|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake.termination|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake.pinduct|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake.psimps|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake_rel.inducts|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake_rel.simps|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake_rel.induct|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake_rel.cases|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake_graph.inducts|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake_graph.simps|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake_graph.induct|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake_graph.cases|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake_graph.intros|thm"><span class="entity_def" id="SemanticsSnippets.ids_fake_def|axiom"><span class="entity_def" id="SemanticsSnippets.ids_fake_rel_def|axiom"><span class="entity_def" id="SemanticsSnippets.ids_fake_sumC_def|axiom"><span class="entity_def" id="SemanticsSnippets.ids_fake_graph_def|axiom"><span class="entity_def" id="SemanticsSnippets.ids_fake_dom|const"><span class="entity_def" id="SemanticsSnippets.ids_fake_rel|const"><span class="entity_def" id="SemanticsSnippets.ids_fake_sumC|const"><span class="entity_def" id="SemanticsSnippets.ids_fake_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SemanticsSnippets.ids_fake|const"><span>ids_fake</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.ID|type"><span>ID</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode|type"><span>IRNode</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.ID|type"><span>ID</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ids_fake</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span class="bound"><span>nid</span></span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="bound"><span>nid</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.NoNode|const"><span>NoNode</span></a><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="SemanticsSnippets.kind_fake.elims|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake.induct|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake.simps|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake.pelims|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake.cases|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake.termination|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake.pinduct|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake.psimps|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake_rel.inducts|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake_rel.simps|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake_rel.induct|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake_rel.cases|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake_rel.intros|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake_graph.inducts|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake_graph.simps|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake_graph.induct|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake_graph.cases|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake_graph.intros|fact"><span class="entity_def" id="SemanticsSnippets.kind_fake.elims|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake.induct|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake.simps|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake.pelims|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake.cases|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake.termination|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake.pinduct|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake.psimps|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake_rel.inducts|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake_rel.simps|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake_rel.induct|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake_rel.cases|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake_graph.inducts|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake_graph.simps|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake_graph.induct|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake_graph.cases|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake_graph.intros|thm"><span class="entity_def" id="SemanticsSnippets.kind_fake_def|axiom"><span class="entity_def" id="SemanticsSnippets.kind_fake_rel_def|axiom"><span class="entity_def" id="SemanticsSnippets.kind_fake_sumC_def|axiom"><span class="entity_def" id="SemanticsSnippets.kind_fake_graph_def|axiom"><span class="entity_def" id="SemanticsSnippets.kind_fake_dom|const"><span class="entity_def" id="SemanticsSnippets.kind_fake_rel|const"><span class="entity_def" id="SemanticsSnippets.kind_fake_sumC|const"><span class="entity_def" id="SemanticsSnippets.kind_fake_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="SemanticsSnippets.kind_fake|const"><span>kind_fake</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.ID|type"><span>ID</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode|type"><span>IRNode</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.ID|type"><span>ID</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode|type"><span>IRNode</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>kind_fake</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>nid</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="bound"><span>nid</span></span><span> </span><span class="keyword1"><span>of</span></span><span> None </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.NoNode|const"><span>NoNode</span></a><span> </span><span class="main"><span>|</span></span><span> Some </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹helpersdisplay›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text_raw</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term_type</span></span><span>[</span><span>mode</span><span>=spaced_type_def] </span><span class="quoted"><a class="entity_ref" href="SemanticsSnippets.html#SemanticsSnippets.ids_fake|const"><span>ids_fake</span></a></span><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="SemanticsSnippets.html#SemanticsSnippets.ids_fake.simps|fact"><span>ids_fake.simps</span></a><span class="antiquote"><span>}</span></span></span><span>\\[0.75em]

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term_type</span></span><span>[</span><span>mode</span><span>=spaced_type_def] </span><span class="quoted"><a class="entity_ref" href="SemanticsSnippets.html#SemanticsSnippets.kind_fake|const"><span>kind_fake</span></a></span><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="SemanticsSnippets.html#SemanticsSnippets.kind_fake.simps|fact"><span>kind_fake.simps</span></a><span class="antiquote"><span>}</span></span></span><span>\\[0.75em]

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term_type</span></span><span>[</span><span>mode</span><span>=spaced_type_def] </span><span class="quoted"><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.inputs|const"><span>inputs</span></a></span><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.inputs.simps|fact"><span>inputs.simps</span></a><span class="antiquote"><span>}</span></span></span><span>\\[0.75em]

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term_type</span></span><span>[</span><span>mode</span><span>=spaced_type_def] </span><span class="quoted"><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.succ|const"><span>succ</span></a></span><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.succ.simps|fact"><span>succ.simps</span></a><span class="antiquote"><span>}</span></span></span><span>\\[0.75em]

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term_type</span></span><span>[</span><span>mode</span><span>=spaced_type_def] </span><span class="quoted"><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.input_edges|const"><span>input_edges</span></a></span><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.input_edges.simps|fact"><span>input_edges.simps</span></a><span class="antiquote"><span>}</span></span></span><span>\\[0.75em]

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term_type</span></span><span>[</span><span>mode</span><span>=spaced_type_def] </span><span class="quoted"><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.usages|const"><span>usages</span></a></span><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.usages.simps|fact"><span>usages.simps</span></a><span class="antiquote"><span>}</span></span></span><span>\\[0.75em]

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term_type</span></span><span>[</span><span>mode</span><span>=spaced_type_def] </span><span class="quoted"><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.successor_edges|const"><span>successor_edges</span></a></span><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.successor_edges.simps|fact"><span>successor_edges.simps</span></a><span class="antiquote"><span>}</span></span></span><span>\\[0.75em]

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term_type</span></span><span>[</span><span>mode</span><span>=spaced_type_def] </span><span class="quoted"><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.predecessors|const"><span>predecessors</span></a></span><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.predecessors.simps|fact"><span>predecessors.simps</span></a><span class="antiquote"><span>}</span></span></span><span>\\[0.75em]
›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>

</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹wf_start_def›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text_raw</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>display</span><span>,</span><span>margin</span><span>=40] </span><a class="entity_ref" href="../Semantics/Form.html#Form.wf_start_def|fact"><span>wf_start_def</span></a><span class="antiquote"><span>}</span></span></span><span>
›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>
</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹wf_closed_def›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text_raw</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>display</span><span>,</span><span>margin</span><span>=40] </span><a class="entity_ref" href="../Semantics/Form.html#Form.wf_closed_def|fact"><span>wf_closed_def</span></a><span class="antiquote"><span>}</span></span></span><span>
›</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>
</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹wf_phis_def›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text_raw</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>display</span><span>,</span><span>margin</span><span>=40] </span><a class="entity_ref" href="../Semantics/Form.html#Form.wf_phis_def|fact"><span>wf_phis_def</span></a><span class="antiquote"><span>}</span></span></span><span>
›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>
</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹wf_ends_def›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text_raw</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>display</span><span>,</span><span>margin</span><span>=40] </span><a class="entity_ref" href="../Semantics/Form.html#Form.wf_ends_def|fact"><span>wf_ends_def</span></a><span class="antiquote"><span>}</span></span></span><span>
›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>

</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹wf_graph_def›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text_raw</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term_type</span></span><span>[</span><span>mode</span><span>=spaced_type_def] </span><span class="quoted"><a class="entity_ref" href="../Semantics/Form.html#Form.wf_graph|const"><span>wf_graph</span></a></span><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Semantics/Form.html#Form.wf_graph.simps|fact"><span>wf_graph.simps</span></a><span class="antiquote"><span>}</span></span></span><span>
›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>

</span><span class="keyword1"><span class="command"><span>text_raw</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>bold</span></span><span> </span><span class="plain_text"><span>‹type-synonym›</span></span><span class="antiquote"><span>}</span></span></span><span> Signature = </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>typ</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/String.html#String.string|type"><span>string</span></a></span><span class="antiquote"><span>}</span></span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹programdef›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text_raw</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>bold</span></span><span> </span><span class="plain_text"><span>‹type-synonym›</span></span><span class="antiquote"><span>}</span></span></span><span> Program = </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>typ</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.Signature|type"><span>Signature</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.IRGraph|type"><span>IRGraph</span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span>
›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>

</span><span class="keyword1"><span class="command"><span>print_antiquotations</span></span></span><span>

</span><span class="comment1"><span>(*
type_synonym ('a, 'b) Heap = "'a ⇒ 'b ⇒ Value"
type_synonym Free = "nat"
type_synonym ('a, 'b) DynamicHeap = "('a, 'b) Heap × Free"

fun h_load_field :: "'a ⇒ 'b ⇒ ('a, 'b) DynamicHeap ⇒ Value" where
  "h_load_field f r (h, n) = h f r"

fun h_store_field :: "'a ⇒ 'b ⇒ Value ⇒ ('a, 'b) DynamicHeap ⇒ ('a, 'b) DynamicHeap" where
  "h_store_field f r v (h, n) = (h(f := ((h f)(r := v))), n)"

fun h_new_inst :: "('a, 'b) DynamicHeap ⇒ ('a, 'b) DynamicHeap × Value" where
  "h_new_inst (h, n) = ((h,n+1), (ObjRef (Some n)))"

type_synonym FieldRefHeap = "(string, objref) DynamicHeap"
*)</span></span><span>

</span><span class="comment1"><span>(* TODO: add heap here *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹heapdef›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="SemanticsSnippets.Heap|type"><span>Heap</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/String.html#String.string|type"><span>string</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.objref|type"><span>objref</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.Value|type"><span>Value</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="SemanticsSnippets.Free|type"><span>Free</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="SemanticsSnippets.DynamicHeap|type"><span>DynamicHeap</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="SemanticsSnippets.html#SemanticsSnippets.Heap|type"><span>Heap</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="SemanticsSnippets.html#SemanticsSnippets.Free|type"><span>Free</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text_raw</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
\\[0.75em]

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>text</span></span><span> </span><span class="raw_text"><span>‹h_load_field :: ›</span></span><span class="antiquote"><span>}</span></span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>typ</span></span><span>[</span><span>source</span><span>] </span><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/String.html#String.string|type"><span>string</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.objref|type"><span>objref</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="SemanticsSnippets.html#SemanticsSnippets.DynamicHeap|type"><span>DynamicHeap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.Value|type"><span>Value</span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.h_load_field.simps|fact"><span>h_load_field.simps</span></a><span class="antiquote"><span>}</span></span></span><span>\\[0.75em]

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>text</span></span><span> </span><span class="raw_text"><span>‹h_store_field :: ›</span></span><span class="antiquote"><span>}</span></span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>typ</span></span><span>[</span><span>source</span><span>] </span><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/String.html#String.string|type"><span>string</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.objref|type"><span>objref</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.Value|type"><span>Value</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="SemanticsSnippets.html#SemanticsSnippets.DynamicHeap|type"><span>DynamicHeap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="SemanticsSnippets.html#SemanticsSnippets.DynamicHeap|type"><span>DynamicHeap</span></a><span>"</span></span><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.h_store_field.simps|fact"><span>h_store_field.simps</span></a><span class="antiquote"><span>}</span></span></span><span>\\[0.75em]

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>text</span></span><span> </span><span class="raw_text"><span>‹h_new_inst :: ›</span></span><span class="antiquote"><span>}</span></span></span><span> </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>typ</span></span><span>[</span><span>source</span><span>] </span><span class="quoted"><span>"</span><a class="entity_ref" href="SemanticsSnippets.html#SemanticsSnippets.DynamicHeap|type"><span>DynamicHeap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="SemanticsSnippets.html#SemanticsSnippets.DynamicHeap|type"><span>DynamicHeap</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.Value|type"><span>Value</span></a><span class="main"><span>)</span></span><span>"</span></span><span class="antiquote"><span>}</span></span></span><span>

</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.h_new_inst.simps|fact"><span>h_new_inst.simps</span></a><span class="antiquote"><span>}</span></span></span><span>
›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>

</span><span class="comment1"><span>(* Deprecated expression semantics *)</span></span><span>
</span><span class="comment1"><span>(*
text_raw ‹\Snip{ExpressionSemantics}%›
text ‹
\begin{center}
\induct{@{thm[mode=Rule] eval.ConstantNode [no_vars]}}{eval:const}
\induct{@{thm[mode=Rule] eval.AddNode [no_vars]}}{eval:add}
\induct{@{thm[mode=Rule] eval.ParameterNode [no_vars]}}{eval:param}
\induct{@{thm[mode=Rule] eval.ValuePhiNode [no_vars]}}{eval:phi}
\induct{@{thm[mode=Rule] eval.InvokeNodeEval [no_vars]}}{eval:invoke}
\induct{@{thm[mode=Rule] eval.NewInstanceNode [no_vars]}}{eval:invoke}
\induct{@{thm[mode=Rule] eval.LoadFieldNode [no_vars]}}{eval:load}
\end{center}
›
text_raw ‹\EndSnip›

text_raw ‹\Snip{EvalAll}%›
text ‹
\begin{center}
@{thm[mode=Rule] eval_all.Base [no_vars]}\\[8px]
@{thm[mode=Rule] eval_all.Transitive [no_vars]}
\end{center}
›
text_raw ‹\EndSnip›
*)</span></span><span>


</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹StepSemantics›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
\begin{center}
\induct{</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step.SequentialNode|fact"><span>step.SequentialNode</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>}{step:seq}
\induct{</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step.IfNode|fact"><span>step.IfNode</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>}{step:if}
\induct{</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step.EndNodes|fact"><span>step.EndNodes</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>}{step:end}
\induct{</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step.NewInstanceNode|fact"><span>step.NewInstanceNode</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>}{step:newinst}
\induct{</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step.LoadFieldNode|fact"><span>step.LoadFieldNode</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>}{step:load}
\induct{</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step.StoreFieldNode|fact"><span>step.StoreFieldNode</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>}{step:store}
\induct{</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step.StaticLoadFieldNode|fact"><span>step.StaticLoadFieldNode</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>}{step:load-static}
\induct{</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step.StaticStoreFieldNode|fact"><span>step.StaticStoreFieldNode</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>}{step:store-static}
\end{center}
›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>

</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹TopStepSemantics›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
\begin{center}
\induct{</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step_top.Lift|fact"><span>step_top.Lift</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>}{top:lift}
\induct{</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step_top.InvokeNodeStep|fact"><span>step_top.InvokeNodeStep</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>}{top:invoke}
\induct{</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step_top.ReturnNode|fact"><span>step_top.ReturnNode</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>}{top:return}
\induct{</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step_top.ReturnNodeVoid|fact"><span>step_top.ReturnNodeVoid</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>}{top:return-void}
\induct{</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step_top.UnwindNode|fact"><span>step_top.UnwindNode</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>}{top:unwind}
\end{center}
›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>

</span><span class="comment1"><span>(* Deprecated canonicalization rules *)</span></span><span>
</span><span class="comment1"><span>(*
text_raw ‹\Snip{AddNodeRules}%
\begin{center}
@{thm[mode=Rule] CanonicalizeAdd.add_both_const [no_vars]}\\[8px]
@{thm[mode=Rule] CanonicalizeAdd.add_xzero [no_vars]}\\[8px]
@{thm[mode=Rule] CanonicalizeAdd.add_yzero [no_vars]}
\end{center}
\EndSnip›

text_raw ‹\Snip{AddNodeProof}%
@{thm CanonicalizeAddProof}
\EndSnip›
*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Stutter›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
\begin{center}
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="Proofs.Stuttering.html#Stuttering.stutter.StutterStep|fact"><span>stutter.StutterStep</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>\\[8px]
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span>[</span><span>mode</span><span>=Rule] </span><a class="entity_ref" href="Proofs.Stuttering.html#Stuttering.stutter.Transitive|fact"><span>stutter.Transitive</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>no_vars</span></span><span class="main"><span>]</span></span><span class="antiquote"><span>}</span></span></span><span>
\end{center}
›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>

</span><span class="comment1"><span>(*
text_raw ‹\Snip{CanonicalizeIfNodeRules}%
\begin{center}
@{thm[mode=Rule] CanonicalizeIf.trueConst}\\[8px]
@{thm[mode=Rule] CanonicalizeIf.falseConst}\\[8px]
@{thm[mode=Rule] CanonicalizeIf.eqBranch}
\end{center}
\EndSnip›
definition replace_node_fake :: "ID ⇒ IRNode ⇒ IRGraph ⇒ IRGraph" where
  "replace_node_fake nid node g = replace_node nid (node,default_stamp) g"
lemma CanonicalizeIfProof_fake:
  fixes m::MapState and h::FieldRefHeap
  assumes "kind g nid = before"
  assumes "CanonicalizeIf g before after"
  assumes "g' = replace_node_fake nid after g"
  assumes "g, p ⊢ (nid, m, h) → (nid', m, h)"
  shows "nid | g ∼ g'"
  by (metis CanonicalizeIfProof assms(1) assms(2) assms(3) assms(4) replace_node_fake_def)

text_raw ‹\Snip{CanonicalizeIfNodeProof}%
\begin{center}
@{thm[display] CanonicalizeIfProof_fake}
\end{center}
\EndSnip›
*)</span></span><span>

</span><span class="comment1"><span>(* EXPERIMENTAL *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span>latex </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span class="main"><span>)</span></span><span>
  </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.filtered_inputs|const"><span>filtered_inputs</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>inputs<span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹\\ensuremath{^{\\mathit{›</span></span><span>_</span><span class="keyword1"><span>⟪</span></span><span>_</span><span class="keyword1"><span>⟫<span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹}}}›<span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹\\ensuremath{_{\\mathit{›</span></span><span>_</span><span class="keyword1"><span><span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹}}}›</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span>latex </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span class="main"><span>)</span></span><span>
  </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.filtered_successors|const"><span>filtered_successors</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>succ<span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹\\ensuremath{^{\\mathit{›</span></span><span>_</span><span class="keyword1"><span>⟪</span></span><span>_</span><span class="keyword1"><span>⟫<span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹}}}›<span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹\\ensuremath{_{\\mathit{›</span></span><span>_</span><span class="keyword1"><span><span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹}}}›</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span>latex </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span class="main"><span>)</span></span><span>
  </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.filtered_usages|const"><span>filtered_usages</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>usages<span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹\\ensuremath{^{\\mathit{›</span></span><span>_</span><span class="keyword1"><span>⟪</span></span><span>_</span><span class="keyword1"><span>⟫<span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹}}}›<span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹\\ensuremath{_{\\mathit{›</span></span><span>_</span><span class="keyword1"><span><span class="hidden">\&lt;^</span><span class="control">latex</span><span class="hidden">&gt;</span>‹}}}›</span></span><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>snipbegin</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹example2›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text_raw</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span>[</span><span>display</span><span>] </span><span class="quoted"><span>‹</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.filtered_inputs|const"><span>filtered_inputs</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>nid</span></span><span> </span><span class="free"><span>f</span></span><span>›</span></span><span class="antiquote"><span>}</span></span></span><span>
›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>snipend</span></span></span><span> </span><span class="plain_text"><span>-</span></span><span>

</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span>latex </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span class="main"><span>)</span></span><span>
  </span><span>Pure.dummy_pattern</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>-</span></span><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(* take out bits from intvals - changes if we change to deal with bits *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span>latex </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span class="main"><span>)</span></span><span>
  </span><a class="entity_ref" href="../Graph/Values.html#Values.Value.IntVal|const"><span>IntVal</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>IntVal</span></span><span> </span><span class="keyword3"><span>(2</span></span><span> _</span><span class="keyword3"><span>)</span></span><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>