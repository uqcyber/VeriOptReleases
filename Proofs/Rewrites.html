<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Rewrites</title>
</head>


<body>
<div class="head">
<h1>Theory Rewrites</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Graph Rewriting</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span>
  </span><span>Rewrites</span><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span>
  </span><a href="Stuttering.html"><span>Stuttering</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewrites.replace_usages.elims|fact"><span class="entity_def" id="Rewrites.replace_usages.induct|fact"><span class="entity_def" id="Rewrites.replace_usages.simps|fact"><span class="entity_def" id="Rewrites.replace_usages.pelims|fact"><span class="entity_def" id="Rewrites.replace_usages.cases|fact"><span class="entity_def" id="Rewrites.replace_usages.termination|fact"><span class="entity_def" id="Rewrites.replace_usages.pinduct|fact"><span class="entity_def" id="Rewrites.replace_usages.psimps|fact"><span class="entity_def" id="Rewrites.replace_usages_rel.inducts|fact"><span class="entity_def" id="Rewrites.replace_usages_rel.simps|fact"><span class="entity_def" id="Rewrites.replace_usages_rel.induct|fact"><span class="entity_def" id="Rewrites.replace_usages_rel.cases|fact"><span class="entity_def" id="Rewrites.replace_usages_rel.intros|fact"><span class="entity_def" id="Rewrites.replace_usages_graph.inducts|fact"><span class="entity_def" id="Rewrites.replace_usages_graph.simps|fact"><span class="entity_def" id="Rewrites.replace_usages_graph.induct|fact"><span class="entity_def" id="Rewrites.replace_usages_graph.cases|fact"><span class="entity_def" id="Rewrites.replace_usages_graph.intros|fact"><span class="entity_def" id="Rewrites.replace_usages.elims|thm"><span class="entity_def" id="Rewrites.replace_usages.induct|thm"><span class="entity_def" id="Rewrites.replace_usages.simps|thm"><span class="entity_def" id="Rewrites.replace_usages.pelims|thm"><span class="entity_def" id="Rewrites.replace_usages.cases|thm"><span class="entity_def" id="Rewrites.replace_usages.termination|thm"><span class="entity_def" id="Rewrites.replace_usages.pinduct|thm"><span class="entity_def" id="Rewrites.replace_usages.psimps|thm"><span class="entity_def" id="Rewrites.replace_usages_rel.inducts|thm"><span class="entity_def" id="Rewrites.replace_usages_rel.simps|thm"><span class="entity_def" id="Rewrites.replace_usages_rel.induct|thm"><span class="entity_def" id="Rewrites.replace_usages_rel.cases|thm"><span class="entity_def" id="Rewrites.replace_usages_graph.inducts|thm"><span class="entity_def" id="Rewrites.replace_usages_graph.simps|thm"><span class="entity_def" id="Rewrites.replace_usages_graph.induct|thm"><span class="entity_def" id="Rewrites.replace_usages_graph.cases|thm"><span class="entity_def" id="Rewrites.replace_usages_graph.intros|thm"><span class="entity_def" id="Rewrites.replace_usages_def|axiom"><span class="entity_def" id="Rewrites.replace_usages_rel_def|axiom"><span class="entity_def" id="Rewrites.replace_usages_sumC_def|axiom"><span class="entity_def" id="Rewrites.replace_usages_graph_def|axiom"><span class="entity_def" id="Rewrites.replace_usages_dom|const"><span class="entity_def" id="Rewrites.replace_usages_rel|const"><span class="entity_def" id="Rewrites.replace_usages_sumC|const"><span class="entity_def" id="Rewrites.replace_usages_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewrites.replace_usages|const"><span>replace_usages</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.ID|type"><span>ID</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.ID|type"><span>ID</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.IRGraph|type"><span>IRGraph</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.IRGraph|type"><span>IRGraph</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>replace_usages</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>nid</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>nid'</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node|const"><span>replace_node</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>nid</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.RefNode|const"><span>RefNode</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>nid'</span></span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.stamp|const"><span>stamp</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>nid'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_216..221">lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.replace_usages_effect|fact"><span class="entity_def" id="Rewrites.replace_usages_effect|thm"><span>replace_usages_effect</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.replace_usages|const"><span>replace_usages</span></a><span> </span><span class="free"><span>nid</span></span><span> </span><span class="free"><span>nid'</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g'</span></span><span> </span><span class="free"><span>nid</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.RefNode|const"><span>RefNode</span></a><span> </span><span class="free"><span>nid'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_216..221"><span>assms</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node_lookup|fact"><span>replace_node_lookup</span></a><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.replace_usages.simps|fact"><span>replace_usages.simps</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.distinct|fact"><span>IRNode.distinct</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2755</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_416..421">lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.replace_usages_changeonly|fact"><span class="entity_def" id="Rewrites.replace_usages_changeonly|thm"><span>replace_usages_changeonly</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>nid</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.ids|const"><span>ids</span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.replace_usages|const"><span>replace_usages</span></a><span> </span><span class="free"><span>nid</span></span><span> </span><span class="free"><span>nid'</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.changeonly|const"><span>changeonly</span></a><span> </span><span class="main"><span>{</span></span><span class="free"><span>nid</span></span><span class="main"><span>}</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>g'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_416..421"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.replace_usages.simps|fact"><span>replace_usages.simps</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.add_changed|fact"><span>add_changed</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.add_node_def|fact"><span>add_node_def</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node_def|fact"><span>replace_node_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_649..654">lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.replace_usages_unchanged|fact"><span class="entity_def" id="Rewrites.replace_usages_unchanged|thm"><span>replace_usages_unchanged</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>nid</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.ids|const"><span>ids</span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.replace_usages|const"><span>replace_usages</span></a><span> </span><span class="free"><span>nid</span></span><span> </span><span class="free"><span>nid'</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.unchanged|const"><span>unchanged</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.ids|const"><span>ids</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>nid</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>g'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_649..654"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.replace_usages.simps|fact"><span>replace_usages.simps</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_649..654"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.disjoint_change|fact"><span>disjoint_change</span></a><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.replace_usages_changeonly|fact"><span>replace_usages_changeonly</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>



</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewrites.nextNid.elims|fact"><span class="entity_def" id="Rewrites.nextNid.induct|fact"><span class="entity_def" id="Rewrites.nextNid.simps|fact"><span class="entity_def" id="Rewrites.nextNid.pelims|fact"><span class="entity_def" id="Rewrites.nextNid.cases|fact"><span class="entity_def" id="Rewrites.nextNid.termination|fact"><span class="entity_def" id="Rewrites.nextNid.pinduct|fact"><span class="entity_def" id="Rewrites.nextNid.psimps|fact"><span class="entity_def" id="Rewrites.nextNid_rel.inducts|fact"><span class="entity_def" id="Rewrites.nextNid_rel.simps|fact"><span class="entity_def" id="Rewrites.nextNid_rel.induct|fact"><span class="entity_def" id="Rewrites.nextNid_rel.cases|fact"><span class="entity_def" id="Rewrites.nextNid_rel.intros|fact"><span class="entity_def" id="Rewrites.nextNid_graph.inducts|fact"><span class="entity_def" id="Rewrites.nextNid_graph.simps|fact"><span class="entity_def" id="Rewrites.nextNid_graph.induct|fact"><span class="entity_def" id="Rewrites.nextNid_graph.cases|fact"><span class="entity_def" id="Rewrites.nextNid_graph.intros|fact"><span class="entity_def" id="Rewrites.nextNid.elims|thm"><span class="entity_def" id="Rewrites.nextNid.induct|thm"><span class="entity_def" id="Rewrites.nextNid.simps|thm"><span class="entity_def" id="Rewrites.nextNid.pelims|thm"><span class="entity_def" id="Rewrites.nextNid.cases|thm"><span class="entity_def" id="Rewrites.nextNid.termination|thm"><span class="entity_def" id="Rewrites.nextNid.pinduct|thm"><span class="entity_def" id="Rewrites.nextNid.psimps|thm"><span class="entity_def" id="Rewrites.nextNid_rel.inducts|thm"><span class="entity_def" id="Rewrites.nextNid_rel.simps|thm"><span class="entity_def" id="Rewrites.nextNid_rel.induct|thm"><span class="entity_def" id="Rewrites.nextNid_rel.cases|thm"><span class="entity_def" id="Rewrites.nextNid_graph.inducts|thm"><span class="entity_def" id="Rewrites.nextNid_graph.simps|thm"><span class="entity_def" id="Rewrites.nextNid_graph.induct|thm"><span class="entity_def" id="Rewrites.nextNid_graph.cases|thm"><span class="entity_def" id="Rewrites.nextNid_graph.intros|thm"><span class="entity_def" id="Rewrites.nextNid_def|axiom"><span class="entity_def" id="Rewrites.nextNid_rel_def|axiom"><span class="entity_def" id="Rewrites.nextNid_sumC_def|axiom"><span class="entity_def" id="Rewrites.nextNid_graph_def|axiom"><span class="entity_def" id="Rewrites.nextNid_dom|const"><span class="entity_def" id="Rewrites.nextNid_rel|const"><span class="entity_def" id="Rewrites.nextNid_sumC|const"><span class="entity_def" id="Rewrites.nextNid_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewrites.nextNid|const"><span>nextNid</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.IRGraph|type"><span>IRGraph</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.ID|type"><span>ID</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>nextNid</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>Max</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.ids|const"><span>ids</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.max_plus_one|fact"><span class="entity_def" id="Rewrites.max_plus_one|thm"><span>max_plus_one</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.ID|type"><span>ID</span></a><span> </span><span>set</span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span>finite</span><span> </span><span class="free"><span>c</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><span>{}</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span>Max</span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>∉</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>Max_gr_iff</span><span> </span><span>less_add_one</span><span> </span><span>less_irrefl</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.ids_finite|fact"><span class="entity_def" id="Rewrites.ids_finite|thm"><span>ids_finite</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span>finite</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.ids|const"><span>ids</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.nextNidNotIn|fact"><span class="entity_def" id="Rewrites.nextNidNotIn|thm"><span>nextNidNotIn</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.ids|const"><span>ids</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><span>{}</span></span><span> </span><span class="main"><span>⟶</span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>∉</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.ids|const"><span>ids</span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid.simps|fact"><span>nextNid.simps</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.ids_finite|fact"><span>ids_finite</span></a><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.max_plus_one|fact"><span>max_plus_one</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewrites.constantCondition.elims|fact"><span class="entity_def" id="Rewrites.constantCondition.induct|fact"><span class="entity_def" id="Rewrites.constantCondition.simps|fact"><span class="entity_def" id="Rewrites.constantCondition.pelims|fact"><span class="entity_def" id="Rewrites.constantCondition.cases|fact"><span class="entity_def" id="Rewrites.constantCondition.termination|fact"><span class="entity_def" id="Rewrites.constantCondition.pinduct|fact"><span class="entity_def" id="Rewrites.constantCondition.psimps|fact"><span class="entity_def" id="Rewrites.constantCondition_rel.inducts|fact"><span class="entity_def" id="Rewrites.constantCondition_rel.simps|fact"><span class="entity_def" id="Rewrites.constantCondition_rel.induct|fact"><span class="entity_def" id="Rewrites.constantCondition_rel.cases|fact"><span class="entity_def" id="Rewrites.constantCondition_rel.intros|fact"><span class="entity_def" id="Rewrites.constantCondition_graph.inducts|fact"><span class="entity_def" id="Rewrites.constantCondition_graph.simps|fact"><span class="entity_def" id="Rewrites.constantCondition_graph.induct|fact"><span class="entity_def" id="Rewrites.constantCondition_graph.cases|fact"><span class="entity_def" id="Rewrites.constantCondition_graph.intros|fact"><span class="entity_def" id="Rewrites.constantCondition.elims|thm"><span class="entity_def" id="Rewrites.constantCondition.induct|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(53)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(52)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(51)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(50)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(49)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(48)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(47)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(46)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(45)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(44)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(43)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(42)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(41)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(40)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(39)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(38)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(37)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(36)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(35)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(34)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(33)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(32)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(31)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(30)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(29)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(28)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(27)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(26)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(25)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(24)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(23)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(22)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(21)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(20)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(19)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(18)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(17)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(16)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(15)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(14)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(13)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(12)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(11)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(10)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(9)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(8)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(7)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(6)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(5)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(4)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(3)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(2)|thm"><span class="entity_def" id="Rewrites.constantCondition.simps(1)|thm"><span class="entity_def" id="Rewrites.constantCondition.pelims|thm"><span class="entity_def" id="Rewrites.constantCondition.cases|thm"><span class="entity_def" id="Rewrites.constantCondition.termination|thm"><span class="entity_def" id="Rewrites.constantCondition.pinduct|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(53)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(52)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(51)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(50)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(49)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(48)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(47)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(46)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(45)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(44)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(43)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(42)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(41)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(40)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(39)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(38)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(37)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(36)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(35)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(34)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(33)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(32)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(31)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(30)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(29)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(28)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(27)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(26)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(25)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(24)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(23)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(22)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(21)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(20)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(19)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(18)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(17)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(16)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(15)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(14)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(13)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(12)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(11)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(10)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(9)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(8)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(7)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(6)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(5)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(4)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(3)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(2)|thm"><span class="entity_def" id="Rewrites.constantCondition.psimps(1)|thm"><span class="entity_def" id="Rewrites.constantCondition_rel.inducts|thm"><span class="entity_def" id="Rewrites.constantCondition_rel.simps|thm"><span class="entity_def" id="Rewrites.constantCondition_rel.induct|thm"><span class="entity_def" id="Rewrites.constantCondition_rel.cases|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.inducts|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.simps|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.induct|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.cases|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(53)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(52)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(51)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(50)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(49)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(48)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(47)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(46)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(45)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(44)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(43)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(42)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(41)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(40)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(39)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(38)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(37)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(36)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(35)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(34)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(33)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(32)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(31)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(30)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(29)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(28)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(27)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(26)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(25)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(24)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(23)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(22)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(21)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(20)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(19)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(18)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(17)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(16)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(15)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(14)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(13)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(12)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(11)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(10)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(9)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(8)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(7)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(6)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(5)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(4)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(3)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(2)|thm"><span class="entity_def" id="Rewrites.constantCondition_graph.intros(1)|thm"><span class="entity_def" id="Rewrites.constantCondition_def|axiom"><span class="entity_def" id="Rewrites.constantCondition_rel_def|axiom"><span class="entity_def" id="Rewrites.constantCondition_sumC_def|axiom"><span class="entity_def" id="Rewrites.constantCondition_graph_def|axiom"><span class="entity_def" id="Rewrites.constantCondition_dom|const"><span class="entity_def" id="Rewrites.constantCondition_rel|const"><span class="entity_def" id="Rewrites.constantCondition_sumC|const"><span class="entity_def" id="Rewrites.constantCondition_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewrites.constantCondition|const"><span>constantCondition</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>bool</span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.ID|type"><span>ID</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode|type"><span>IRNode</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.IRGraph|type"><span>IRGraph</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.IRGraph|type"><span>IRGraph</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>constantCondition</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>val</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>nid</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.IfNode|const"><span>IfNode</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cond</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> 
    </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node|const"><span>replace_node</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>nid</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.IfNode|const"><span>IfNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.stamp|const"><span>stamp</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>nid</span></span></span></span><span class="main"><span>)</span></span><span> 
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.add_node|const"><span>add_node</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.ConstantNode|const"><span>ConstantNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.bool_to_val|const"><span>bool_to_val</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>val</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Graph/Stamp.html#Stamp.constantAsStamp|const"><span>constantAsStamp</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.bool_to_val|const"><span>bool_to_val</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>val</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>constantCondition</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cond</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>nid</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1619..1624">lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.constantConditionTrue|fact"><span class="entity_def" id="Rewrites.constantConditionTrue|thm"><span>constantConditionTrue</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.IfNode|const"><span>IfNode</span></a><span> </span><span class="free"><span>cond</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition|const"><span>constantCondition</span></a><span> </span><span>True</span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>ifcond</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>,</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>⊢</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ifcond</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>→</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_1817..1820">ifn</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.IfNode|const"><span>IfNode</span></a><span> </span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.NoNode|const"><span>NoNode</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_1879..1882">if'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g'</span></span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.IfNode|const"><span>IfNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_1619..1624"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_1619..1624"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition.simps|fact"><span>constantCondition.simps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node_lookup|fact"><span>replace_node_lookup</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_2026..2033">truedef</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/Values.html#Values.bool_to_val|const"><span>bool_to_val</span></a><span> </span><span>True</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.Value.IntVal32|const"><span>IntVal32</span></a><span> </span><span class="main"><span>1</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_1817..1820"><span>ifn</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_1619..1624"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>emptyE</span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.ids_some|fact"><span>ids_some</span></a><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNidNotIn|fact"><span>nextNidNotIn</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.ConstantNode|const"><span>ConstantNode</span></a><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.NoNode|const"><span>NoNode</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.ConstantNode|const"><span>ConstantNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.bool_to_val|const"><span>bool_to_val</span></a><span> </span><span>True</span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.add_changed|fact"><span>add_changed</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.add_node_def|fact"><span>add_node_def</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_1619..1624"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_1619..1624"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition.simps|fact"><span>constantCondition.simps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.not_in_g|fact"><span>not_in_g</span></a><span> </span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.other_node_unchanged|fact"><span>other_node_unchanged</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node_def|fact"><span>replace_node_def</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node_lookup|fact"><span>replace_node_lookup</span></a><span> </span><span>singletonD</span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>z3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>DiffI</span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.add_node_lookup|fact"><span>add_node_lookup</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node_unchanged|fact"><span>replace_node_unchanged</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_2535..2537">c'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.ConstantNode|const"><span>ConstantNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.Value.IntVal32|const"><span>IntVal32</span></a><span> </span><span class="main"><span>1</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_2026..2033"><span>truedef</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/Stamp.html#Stamp.valid_value|const"><span>valid_value</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.Value.IntVal32|const"><span>IntVal32</span></a><span> </span><span class="main"><span>1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Stamp.html#Stamp.constantAsStamp|const"><span>constantAsStamp</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.Value.IntVal32|const"><span>IntVal32</span></a><span> </span><span class="main"><span>1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Graph/Stamp.html#Stamp.constantAsStamp.simps|fact"><span>constantAsStamp.simps</span></a><span> </span><a class="entity_ref" href="../Graph/Stamp.html#Stamp.valid_value.simps|fact"><span>valid_value.simps</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>nat_numeral</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>[</span></a></span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>,</span></a></span><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>,</span></a></span><span> </span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>↦</span></a></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.Value.IntVal32|const"><span>IntVal32</span></a><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Semantics/IRTreeEval.html#IRTreeEval.evaltree.ConstantExpr|fact"><span>ConstantExpr</span></a><span> </span><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.rep.ConstantNode|fact"><span>ConstantNode</span></a><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.Value.distinct|fact"><span>Value.distinct</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.ConstantNode|const"><span>ConstantNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.bool_to_val|const"><span>bool_to_val</span></a><span> </span><span>True</span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval_def|fact"><span>encodeeval_def</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_2026..2033"><span>truedef</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_1879..1882"><span>if'</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_2535..2537"><span>c'</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step.IfNode|fact"><span>IfNode</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.val_to_bool.simps|fact"><span>val_to_bool.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>[</span></a></span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>,</span></a></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>,</span></a></span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>↦</span></a></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.Value.IntVal32|const"><span>IntVal32</span></a><span> </span><span class="main"><span>1</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval_def|fact"><span>encodeeval_def</span></a><span> </span><span>zero_neq_one</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3133..3138">lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.constantConditionFalse|fact"><span class="entity_def" id="Rewrites.constantConditionFalse|thm"><span>constantConditionFalse</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.IfNode|const"><span>IfNode</span></a><span> </span><span class="free"><span>cond</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition|const"><span>constantCondition</span></a><span> </span><span>False</span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>ifcond</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>,</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>⊢</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ifcond</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>→</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3333..3336">ifn</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.IfNode|const"><span>IfNode</span></a><span> </span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.NoNode|const"><span>NoNode</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3395..3398">if'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g'</span></span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.IfNode|const"><span>IfNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_3133..3138"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_3133..3138"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition.simps|fact"><span>constantCondition.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node_lookup|fact"><span>replace_node_lookup</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3529..3537">falsedef</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/Values.html#Values.bool_to_val|const"><span>bool_to_val</span></a><span> </span><span>False</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.Value.IntVal32|const"><span>IntVal32</span></a><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_3333..3336"><span>ifn</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_3133..3138"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>equals0D</span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.ids_some|fact"><span>ids_some</span></a><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNidNotIn|fact"><span>nextNidNotIn</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.ConstantNode|const"><span>ConstantNode</span></a><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.NoNode|const"><span>NoNode</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.ConstantNode|const"><span>ConstantNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.bool_to_val|const"><span>bool_to_val</span></a><span> </span><span>False</span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>z3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.add_changed|fact"><span>add_changed</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.add_node_def|fact"><span>add_node_def</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_3133..3138"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_3133..3138"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition.simps|fact"><span>constantCondition.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.not_in_g|fact"><span>not_in_g</span></a><span> </span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.other_node_unchanged|fact"><span>other_node_unchanged</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node_def|fact"><span>replace_node_def</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node_lookup|fact"><span>replace_node_lookup</span></a><span> </span><span>singletonD</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3988..3990">c'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.ConstantNode|const"><span>ConstantNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.Value.IntVal32|const"><span>IntVal32</span></a><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_3529..3537"><span>falsedef</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/Stamp.html#Stamp.valid_value|const"><span>valid_value</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.Value.IntVal32|const"><span>IntVal32</span></a><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Stamp.html#Stamp.constantAsStamp|const"><span>constantAsStamp</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.Value.IntVal32|const"><span>IntVal32</span></a><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Graph/Stamp.html#Stamp.constantAsStamp.simps|fact"><span>constantAsStamp.simps</span></a><span> </span><a class="entity_ref" href="../Graph/Stamp.html#Stamp.valid_value.simps|fact"><span>valid_value.simps</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>nat_numeral</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>[</span></a></span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>,</span></a></span><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>,</span></a></span><span> </span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>↦</span></a></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.Value.IntVal32|const"><span>IntVal32</span></a><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Semantics/IRTreeEval.html#IRTreeEval.evaltree.ConstantExpr|fact"><span>ConstantExpr</span></a><span> </span><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.rep.ConstantNode|fact"><span>ConstantNode</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.ConstantNode|const"><span>ConstantNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.bool_to_val|const"><span>bool_to_val</span></a><span> </span><span>False</span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval_def|fact"><span>encodeeval_def</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_3529..3537"><span>falsedef</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_3395..3398"><span>if'</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_3988..3990"><span>c'</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step.IfNode|fact"><span>IfNode</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.val_to_bool.simps|fact"><span>val_to_bool.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>[</span></a></span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>,</span></a></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>,</span></a></span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>↦</span></a></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.Value.IntVal32|const"><span>IntVal32</span></a><span> </span><span class="main"><span>0</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval_def|fact"><span>encodeeval_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4550..4555">lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.diff_forall|fact"><span class="entity_def" id="Rewrites.diff_forall|thm"><span>diff_forall</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>n</span></span><span class="main"><span>∈</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.ids|const"><span>ids</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>nid</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>cond</span></span><span> </span><span class="bound"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.ids|const"><span>ids</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>∉</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>nid</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>⟶</span></span><span> </span><span class="free"><span>cond</span></span><span> </span><span class="bound"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>Diff_iff</span><span> </span><a class="entity_ref" href="Rewrites.html#offset_4550..4555"><span>assms</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4680..4685">lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.replace_node_changeonly|fact"><span class="entity_def" id="Rewrites.replace_node_changeonly|thm"><span>replace_node_changeonly</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node|const"><span>replace_node</span></a><span> </span><span class="free"><span>nid</span></span><span> </span><span class="free"><span>node</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.changeonly|const"><span>changeonly</span></a><span> </span><span class="main"><span>{</span></span><span class="free"><span>nid</span></span><span class="main"><span>}</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>g'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_4680..4685"><span>assms</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node_unchanged|fact"><span>replace_node_unchanged</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.changeonly.simps|fact"><span>changeonly.simps</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.diff_forall|fact"><span>diff_forall</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.add_changed|fact"><span>add_changed</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.add_node_def|fact"><span>add_node_def</span></a><span> </span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.changeonly.simps|fact"><span>changeonly.simps</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node_def|fact"><span>replace_node_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4941..4946">lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.add_node_changeonly|fact"><span class="entity_def" id="Rewrites.add_node_changeonly|thm"><span>add_node_changeonly</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.add_node|const"><span>add_node</span></a><span> </span><span class="free"><span>nid</span></span><span> </span><span class="free"><span>node</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.changeonly|const"><span>changeonly</span></a><span> </span><span class="main"><span>{</span></span><span class="free"><span>nid</span></span><span class="main"><span>}</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>g'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.IRGraph.Rep_IRGraph_inverse|fact"><span>Rep_IRGraph_inverse</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.add_node.rep_eq|fact"><span>add_node.rep_eq</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_4941..4946"><span>assms</span></a><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node.rep_eq|fact"><span>replace_node.rep_eq</span></a><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.replace_node_changeonly|fact"><span>replace_node_changeonly</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5137..5142">lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.constantConditionNoEffect|fact"><span class="entity_def" id="Rewrites.constantConditionNoEffect|thm"><span>constantConditionNoEffect</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.is_IfNode|const"><span>is_IfNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>nid</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition|const"><span>constantCondition</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>nid</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>nid</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_5137..5142"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>nid</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition.simps|fact"><span>constantCondition.simps</span></a><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>presburger</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.is_IfNode_def|fact"><span>is_IfNode_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition.simps|fact"><span>constantCondition.simps</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5436..5441">lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.constantConditionIfNode|fact"><span class="entity_def" id="Rewrites.constantConditionIfNode|thm"><span>constantConditionIfNode</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>nid</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.IfNode|const"><span>IfNode</span></a><span> </span><span class="free"><span>cond</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition|const"><span>constantCondition</span></a><span> </span><span class="free"><span>val</span></span><span> </span><span class="free"><span>nid</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>nid</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>=</span></span><span> 
    </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.replace_node|const"><span>replace_node</span></a><span> </span><span class="free"><span>nid</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.IfNode|const"><span>IfNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.stamp|const"><span>stamp</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>nid</span></span><span class="main"><span>)</span></span><span> 
     </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.add_node|const"><span>add_node</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.ConstantNode|const"><span>ConstantNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.bool_to_val|const"><span>bool_to_val</span></a><span> </span><span class="free"><span>val</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Graph/Stamp.html#Stamp.constantAsStamp|const"><span>constantAsStamp</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/Values.html#Values.bool_to_val|const"><span>bool_to_val</span></a><span> </span><span class="free"><span>val</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition.simps|fact"><span>constantCondition.simps</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_5436..5441"><span>assms</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5778..5783">lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.constantCondition_changeonly|fact"><span class="entity_def" id="Rewrites.constantCondition_changeonly|thm"><span>constantCondition_changeonly</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>nid</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.ids|const"><span>ids</span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition|const"><span>constantCondition</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>nid</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>nid</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.changeonly|const"><span>changeonly</span></a><span> </span><span class="main"><span>{</span></span><span class="free"><span>nid</span></span><span class="main"><span>}</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>g'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.is_IfNode|const"><span>is_IfNode</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>nid</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_5972..5976">True</span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNid|const"><span>nextNid</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>∉</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.ids|const"><span>ids</span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.nextNidNotIn|fact"><span>nextNidNotIn</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>emptyE</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_5778..5783"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.replace_node_changeonly|fact"><span>replace_node_changeonly</span></a><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.add_node_changeonly|fact"><span>add_node_changeonly</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Semantics/IRGraphFrames.html#IRGraphFrames.changeonly.simps|fact"><span>changeonly.simps</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_5972..5976"><span>True</span></a><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition.simps|fact"><span>constantCondition.simps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.is_IfNode_def|fact"><span>is_IfNode_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>insert_iff</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_6272..6277">False</span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>g'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantConditionNoEffect|fact"><span>constantConditionNoEffect</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_6272..6277"><span>False</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_5778..5783"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6400..6405">lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.constantConditionNoIf|fact"><span class="entity_def" id="Rewrites.constantConditionNoIf|thm"><span>constantConditionNoIf</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>cond</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><span>≠</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.IfNode|const"><span>IfNode</span></a><span> </span><span class="bound"><span>cond</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition|const"><span>constantCondition</span></a><span> </span><span class="free"><span>val</span></span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>ifcond</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>nid'</span></span><span> </span><span class="main"><span>.</span></span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><a class="entity_ref" href="Stuttering.html#Stuttering.stutter|const"><span>⊢</span></a></span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><a class="entity_ref" href="Stuttering.html#Stuttering.stutter|const"><span>↝</span></a></span><span> </span><span class="bound"><span>nid'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g'</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><a class="entity_ref" href="Stuttering.html#Stuttering.stutter|const"><span>⊢</span></a></span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><a class="entity_ref" href="Stuttering.html#Stuttering.stutter|const"><span>↝</span></a></span><span> </span><span class="bound"><span>nid'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_6400..6405"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_6400..6405"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantConditionNoEffect|fact"><span>constantConditionNoEffect</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.collapse|fact"><span>IRNode.collapse</span></a><span class="main"><span class="main"><span>(</span></span></span><span>11</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6776..6781">lemma</span></span></span><span> </span><span class="entity_def" id="Rewrites.constantConditionValid|fact"><span class="entity_def" id="Rewrites.constantConditionValid|thm"><span>constantConditionValid</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/IRNodes.html#IRNodes.IRNode.IfNode|const"><span>IfNode</span></a><span> </span><span class="free"><span>cond</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>[</span></a></span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>,</span></a></span><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>,</span></a></span><span> </span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>⊢</span></a></span><span> </span><span class="free"><span>cond</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval|const"><span>↦</span></a></span><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>const</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Graph/Values.html#Values.val_to_bool|const"><span>val_to_bool</span></a><span> </span><span class="free"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantCondition|const"><span>constantCondition</span></a><span> </span><span class="free"><span>const</span></span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Graph/IRGraph.html#IRGraph.kind|const"><span>kind</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>ifcond</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>nid'</span></span><span> </span><span class="main"><span>.</span></span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><a class="entity_ref" href="Stuttering.html#Stuttering.stutter|const"><span>⊢</span></a></span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><a class="entity_ref" href="Stuttering.html#Stuttering.stutter|const"><span>↝</span></a></span><span> </span><span class="bound"><span>nid'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g'</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><a class="entity_ref" href="Stuttering.html#Stuttering.stutter|const"><span>⊢</span></a></span><span> </span><span class="free"><span>ifcond</span></span><span> </span><span class="main"><a class="entity_ref" href="Stuttering.html#Stuttering.stutter|const"><span>↝</span></a></span><span> </span><span class="bound"><span>nid'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>const</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_7084..7088">True</span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7096..7102">ifstep</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>,</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>⊢</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ifcond</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>→</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step.IfNode|fact"><span>IfNode</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_7084..7088"><span>True</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_6776..6781"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_6776..6781"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_6776..6781"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval_def|fact"><span>encodeeval_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7216..7223">ifstep'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>,</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>⊢</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ifcond</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>→</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantConditionTrue|fact"><span>constantConditionTrue</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_7084..7088"><span>True</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_6776..6781"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_6776..6781"><span>assms</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_7096..7102"><span>ifstep</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_7216..7223"><span>ifstep'</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Stuttering.html#Stuttering.stutter.StutterStep|fact"><span>StutterStep</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_7419..7424">False</span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7432..7438">ifstep</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>,</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>⊢</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ifcond</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>→</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step.IfNode|fact"><span>IfNode</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_7419..7424"><span>False</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_6776..6781"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_6776..6781"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_6776..6781"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Semantics/TreeToGraph.html#TreeToGraph.encodeeval_def|fact"><span>encodeeval_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7553..7560">ifstep'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g'</span></span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>,</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>⊢</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ifcond</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Semantics/IRStepObj.html#IRStepObj.step|const"><span>→</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#Rewrites.constantConditionFalse|fact"><span>constantConditionFalse</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_7419..7424"><span>False</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_6776..6781"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_6776..6781"><span>assms</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewrites.html#offset_7432..7438"><span>ifstep</span></a><span> </span><a class="entity_ref" href="Rewrites.html#offset_7553..7560"><span>ifstep'</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Stuttering.html#Stuttering.stutter.StutterStep|fact"><span>StutterStep</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>