<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Stuttering</title>
</head>


<body>
<div class="head">
<h1>Theory Stuttering</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹Stuttering›</span></span>

<span class="keyword1"><span class="command">theory</span></span> Stuttering
  <span class="keyword2"><span class="keyword">imports</span></span>
    <a href="../Semantics/IRStepThms.html">Semantics.IRStepThms</a>
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">inductive</span></span> <span class="entity">stutter</span><span class="main">::</span> <span class="quoted"><span class="quoted">"IRGraph <span class="main">⇒</span> MapState <span class="main">⇒</span> Params <span class="main">⇒</span> FieldRefHeap <span class="main">⇒</span> ID <span class="main">⇒</span> ID <span class="main">⇒</span> bool"</span></span> <span class="main">(</span><span class="quoted">"_ _ _ _ <span class="keyword1">⊢</span> _ <span class="keyword1">↝</span> _"</span> 55<span class="main">)</span>
  <span class="keyword2"><span class="keyword">for</span></span> <span class="entity">g</span> <span class="entity">m</span> <span class="entity">p</span> <span class="entity">h</span> <span class="keyword2"><span class="keyword">where</span></span>

  StutterStep<span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="free">g</span><span class="main">,</span> <span class="free">p</span> <span class="main">⊢</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">nid</span></span></span><span class="main">,</span><span class="free">m</span><span class="main">,</span><span class="free">h</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">nid'</span></span></span><span class="main">,</span><span class="free">m</span><span class="main">,</span><span class="free">h</span><span class="main">)</span><span class="main">⟧</span>
   <span class="main">⟹</span> <span class="free">g</span> <span class="free">m</span> <span class="free">p</span> <span class="free">h</span> <span class="main"><span class="free">⊢</span></span> <span class="free"><span class="bound"><span class="entity">nid</span></span></span> <span class="main"><span class="free">↝</span></span> <span class="free"><span class="bound"><span class="entity">nid'</span></span></span>"</span></span> <span class="main">|</span>

  Transitive<span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="free">g</span><span class="main">,</span> <span class="free">p</span> <span class="main">⊢</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">nid</span></span></span><span class="main">,</span><span class="free">m</span><span class="main">,</span><span class="free">h</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">nid''</span></span></span><span class="main">,</span><span class="free">m</span><span class="main">,</span><span class="free">h</span><span class="main">)</span><span class="main">;</span>
    <span class="free">g</span> <span class="free">m</span> <span class="free">p</span> <span class="free">h</span> <span class="main"><span class="free">⊢</span></span> <span class="free"><span class="bound"><span class="entity">nid''</span></span></span> <span class="main"><span class="free">↝</span></span> <span class="free"><span class="bound"><span class="entity">nid'</span></span></span><span class="main">⟧</span>
   <span class="main">⟹</span> <span class="free">g</span> <span class="free">m</span> <span class="free">p</span> <span class="free">h</span> <span class="main"><span class="free">⊢</span></span> <span class="free"><span class="bound"><span class="entity">nid</span></span></span> <span class="main"><span class="free">↝</span></span> <span class="free"><span class="bound"><span class="entity">nid'</span></span></span>"</span></span>

<span class="keyword1"><span class="command">lemma</span></span> stuttering_successor<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">g</span><span class="main">,</span> <span class="free">p</span> <span class="main">⊢</span> <span class="main">(</span><span class="free">nid</span><span class="main">,</span> <span class="free">m</span><span class="main">,</span> <span class="free">h</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">nid'</span><span class="main">,</span> <span class="free">m</span><span class="main">,</span> <span class="free">h</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="bound">P'</span><span class="main">.</span> <span class="main">(</span><span class="free">g</span> <span class="free">m</span> <span class="free">p</span> <span class="free">h</span> <span class="main">⊢</span> <span class="free">nid</span> <span class="main">↝</span> <span class="bound">P'</span><span class="main">)</span><span class="main">}</span> <span class="main">=</span> <span class="main">{</span><span class="free">nid'</span><span class="main">}</span> <span class="main">∪</span> <span class="main">{</span><span class="bound">nid''</span><span class="main">.</span> <span class="main">(</span><span class="free">g</span> <span class="free">m</span> <span class="free">p</span> <span class="free">h</span> <span class="main">⊢</span> <span class="free">nid'</span> <span class="main">↝</span> <span class="bound">nid''</span><span class="main">)</span><span class="main">}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> nextin<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">nid'</span> <span class="main">∈</span> <span class="main">{</span><span class="bound">P'</span><span class="main">.</span> <span class="main">(</span><span class="free">g</span> <span class="free">m</span> <span class="free">p</span> <span class="free">h</span> <span class="main">⊢</span> <span class="free">nid</span> <span class="main">↝</span> <span class="bound">P'</span><span class="main">)</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> assms StutterStep <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">have</span></span> nextsubset<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">{</span><span class="bound">nid''</span><span class="main">.</span> <span class="main">(</span><span class="free">g</span> <span class="free">m</span> <span class="free">p</span> <span class="free">h</span> <span class="main">⊢</span> <span class="free">nid'</span> <span class="main">↝</span> <span class="bound">nid''</span><span class="main">)</span><span class="main">}</span> <span class="main">⊆</span> <span class="main">{</span><span class="bound">P'</span><span class="main">.</span> <span class="main">(</span><span class="free">g</span> <span class="free">m</span> <span class="free">p</span> <span class="free">h</span> <span class="main">⊢</span> <span class="free">nid</span> <span class="main">↝</span> <span class="bound">P'</span><span class="main">)</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Collect_mono assms stutter.Transitive<span class="main">)</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">n</span> <span class="main">∈</span> <span class="main">{</span><span class="bound">P'</span><span class="main">.</span> <span class="main">(</span><span class="free">g</span> <span class="free">m</span> <span class="free">p</span> <span class="free">h</span> <span class="main">⊢</span> <span class="free">nid</span> <span class="main">↝</span> <span class="bound">P'</span><span class="main">)</span><span class="main">}</span> <span class="main">.</span> <span class="bound">n</span> <span class="main">=</span> <span class="free">nid'</span> <span class="main">∨</span> <span class="bound">n</span> <span class="main">∈</span> <span class="main">{</span><span class="bound">nid''</span><span class="main">.</span> <span class="main">(</span><span class="free">g</span> <span class="free">m</span> <span class="free">p</span> <span class="free">h</span> <span class="main">⊢</span> <span class="free">nid'</span> <span class="main">↝</span> <span class="bound">nid''</span><span class="main">)</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> stepDet
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="main"><span class="main">(</span></span>no_types<span class="main"><span class="main">,</span></span> lifting<span class="main"><span class="main">)</span></span> Pair_inject assms mem_Collect_eq stutter.simps<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command">using</span></span> insert_absorb mk_disjoint_insert nextin nextsubset <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword2"><span class="keyword">end</span></span></pre>
</body>

</html>